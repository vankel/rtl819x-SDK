<head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SIP Interface: Main Page2</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head>
<img src=realtek.jpg>
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">TAPI_PHONE - FXO<div class="ingroups"><a class="el" href="group__TAPI__PHONE__GROUP.html">PHONE</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>The FXO Interface.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaaf5c5c25a5e88f11f8329065f462254b"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TAPI__PHONE__FXO.html#gaaf5c5c25a5e88f11f8329065f462254b">rtk_SetFxoRingDetection</a> (uint16 ring_on_msec, uint16 first_ringoff_msec, uint16 ring_off_msec)</td></tr>
<tr class="memdesc:gaaf5c5c25a5e88f11f8329065f462254b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the Ring Detection Parameters to FXO.  <a href="#gaaf5c5c25a5e88f11f8329065f462254b">More...</a><br/></td></tr>
<tr class="separator:gaaf5c5c25a5e88f11f8329065f462254b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b5e3f86fb5ac46bcc4f2fbdd3b661b6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TAPI__PHONE__FXO.html#ga0b5e3f86fb5ac46bcc4f2fbdd3b661b6">rtk_DaaRing</a> (uint32 chid)</td></tr>
<tr class="memdesc:ga0b5e3f86fb5ac46bcc4f2fbdd3b661b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check Ringing via PSTN line.  <a href="#ga0b5e3f86fb5ac46bcc4f2fbdd3b661b6">More...</a><br/></td></tr>
<tr class="separator:ga0b5e3f86fb5ac46bcc4f2fbdd3b661b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa616e41e470a40864d0458cac99dc854"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TAPI__PHONE__FXO.html#gaa616e41e470a40864d0458cac99dc854">rtk_SetDaaTxGain</a> (uint32 gain)</td></tr>
<tr class="memdesc:gaa616e41e470a40864d0458cac99dc854"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the Tx Gain of FXO.  <a href="#gaa616e41e470a40864d0458cac99dc854">More...</a><br/></td></tr>
<tr class="separator:gaa616e41e470a40864d0458cac99dc854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1d2749e7a33ed11a451b19d5b851cd17"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TAPI__PHONE__FXO.html#ga1d2749e7a33ed11a451b19d5b851cd17">rtk_SetDaaRxGain</a> (uint32 gain)</td></tr>
<tr class="memdesc:ga1d2749e7a33ed11a451b19d5b851cd17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the Rx Gain of FXO.  <a href="#ga1d2749e7a33ed11a451b19d5b851cd17">More...</a><br/></td></tr>
<tr class="separator:ga1d2749e7a33ed11a451b19d5b851cd17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac9cc5de7469f4131e495f441fd7ff94e"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TAPI__PHONE__FXO.html#gac9cc5de7469f4131e495f441fd7ff94e">rtk_GetDaaCallerID</a> (uint32 chid, char *str_cid, char *str_date, char *str_name)</td></tr>
<tr class="memdesc:gac9cc5de7469f4131e495f441fd7ff94e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the FXO Detected Caller ID.  <a href="#gac9cc5de7469f4131e495f441fd7ff94e">More...</a><br/></td></tr>
<tr class="separator:gac9cc5de7469f4131e495f441fd7ff94e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac88cb291a8c3c7c7e03b315e78402af7"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TAPI__PHONE__FXO.html#gac88cb291a8c3c7c7e03b315e78402af7">rtk_DialPstnCallForward</a> (uint32 chid, uint32 sid, char *cf_no_str)</td></tr>
<tr class="memdesc:gac88cb291a8c3c7c7e03b315e78402af7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dial PSTN Number for PSTN Call Forward.  <a href="#gac88cb291a8c3c7c7e03b315e78402af7">More...</a><br/></td></tr>
<tr class="separator:gac88cb291a8c3c7c7e03b315e78402af7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3605deb589c89815366e16fbfb35f2d9"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TAPI__PHONE__FXO.html#ga3605deb589c89815366e16fbfb35f2d9">rtk_SetDaaHybrid</a> (uint32 chid, uint8 index)</td></tr>
<tr class="memdesc:ga3605deb589c89815366e16fbfb35f2d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the DAA Hybrid (Only for Silicon Lab Si3050 DAA)  <a href="#ga3605deb589c89815366e16fbfb35f2d9">More...</a><br/></td></tr>
<tr class="separator:ga3605deb589c89815366e16fbfb35f2d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6d0bd1478cc4e1705667cd6d3e34ba4"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TAPI__PHONE__FXO.html#gaf6d0bd1478cc4e1705667cd6d3e34ba4">rtk_SetFxoTune</a> (uint32 chid, uint32 control)</td></tr>
<tr class="memdesc:gaf6d0bd1478cc4e1705667cd6d3e34ba4"><td class="mdescLeft">&#160;</td><td class="mdescRight">To tune the impedance for FXO port to match to the central office (Only for Silicon Lab Si3050 DAA)  <a href="#gaf6d0bd1478cc4e1705667cd6d3e34ba4">More...</a><br/></td></tr>
<tr class="separator:gaf6d0bd1478cc4e1705667cd6d3e34ba4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga47b86ca1c915b071ae6cec21ed08c037"><td class="memItemLeft" align="right" valign="top">int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TAPI__PHONE__FXO.html#ga47b86ca1c915b071ae6cec21ed08c037">rtk_GetFxoLineVoltage</a> (uint32 chid, uint32 *pval)</td></tr>
<tr class="memdesc:ga47b86ca1c915b071ae6cec21ed08c037"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get FXO Line Voltage.  <a href="#ga47b86ca1c915b071ae6cec21ed08c037">More...</a><br/></td></tr>
<tr class="separator:ga47b86ca1c915b071ae6cec21ed08c037"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe97a023b7da8016c08c3c79588a766e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TAPI__PHONE__FXO.html#gafe97a023b7da8016c08c3c79588a766e">rtk_FxoOffHook</a> (uint32 chid)</td></tr>
<tr class="memdesc:gafe97a023b7da8016c08c3c79588a766e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Let DAA off-hook.  <a href="#gafe97a023b7da8016c08c3c79588a766e">More...</a><br/></td></tr>
<tr class="separator:gafe97a023b7da8016c08c3c79588a766e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga76f108dba36634e43d7b7ca2e9c87617"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TAPI__PHONE__FXO.html#ga76f108dba36634e43d7b7ca2e9c87617">rtk_FxoOnHook</a> (uint32 chid)</td></tr>
<tr class="memdesc:ga76f108dba36634e43d7b7ca2e9c87617"><td class="mdescLeft">&#160;</td><td class="mdescRight">Let FXO on-hook.  <a href="#ga76f108dba36634e43d7b7ca2e9c87617">More...</a><br/></td></tr>
<tr class="separator:ga76f108dba36634e43d7b7ca2e9c87617"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2f2ae2a3c8a56f50dda2b097b8a000d6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TAPI__PHONE__FXO.html#ga2f2ae2a3c8a56f50dda2b097b8a000d6">rtk_FxoRingOn</a> (uint32 chid)</td></tr>
<tr class="memdesc:ga2f2ae2a3c8a56f50dda2b097b8a000d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Let FXO Ringing.  <a href="#ga2f2ae2a3c8a56f50dda2b097b8a000d6">More...</a><br/></td></tr>
<tr class="separator:ga2f2ae2a3c8a56f50dda2b097b8a000d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a6420fcb2d839e4ea24960d1838c1f9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TAPI__PHONE__FXO.html#ga1a6420fcb2d839e4ea24960d1838c1f9">rtk_FxoBusy</a> (uint32 chid)</td></tr>
<tr class="memdesc:ga1a6420fcb2d839e4ea24960d1838c1f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">FXO Busy.  <a href="#ga1a6420fcb2d839e4ea24960d1838c1f9">More...</a><br/></td></tr>
<tr class="separator:ga1a6420fcb2d839e4ea24960d1838c1f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The FXO Interface. </p>


<h3><a class="anchor" id="VOIP_PHONE_FXO"></a>FXO</h3><div class="textblock">As a caller, an FXO device initiates a call by going off-hook to seize the telephone line or DTMF which identity the destination to be called. <br/>
 As a callee, an FXO device receives a call by detecting the ring voltage supplied by the FXS device or going off-hook to answer the call. <br/>
 The phone connecting to FXS can make a call to PSTN. This can be achieved by connecting to the FXO. <br/>
 The FXO, infect, acts as a converter to transfer the data between FXS and PSTN. The Figure 14 shows the conceptual architecture for FXS making call to PSTN. As the FXS makes a call to PSTN, it sends the SIP message of INVITE to FXO. <br/>
After the FXO received the INVITE message, it calls the function of <a class="el" href="group__TAPI__PHONE__FXO.html#ga2f2ae2a3c8a56f50dda2b097b8a000d6">rtk_FxoRingOn</a> and the kernel will response with off_hook. <br/>
Calling the function of GetFXOEvent can get the status of the FXO. <br/>
 The FXO then responses with the 200 OK SIP message and the FXS sends its ACK to FXO. The connection of RTP is built up between FXO and FXS.  <br> <p align="center"> <b>14. Internal connection for FXO to FXS</b>    <div class="image">
<img src="TAPI_PHONE_FXO_Figure_14.JPG" alt="TAPI_PHONE_FXO_Figure_14.JPG"/>
</div>
  <br> <p align="center"> <b>15. The SIP negoriation for FXO and FXS</b>    <div class="image">
<img src="TAPI_PHONE_FXO_Figure_15.JPG" alt="TAPI_PHONE_FXO_Figure_15.JPG"/>
</div>
 As the phone of the PSTN calls the phone of FXS in the ATA, the FXO will send the signal of off hook and do the SIP negotiation with FXS. <br/>
 The connection of RTP between FXO and FXS is built up. The FXO acts as a sipua that can do negotiation with the other sipua such as softphone  <br> <p align="center"> <b>16. The FXO calls the sipua</b>    <div class="image">
<img src="TAPI_PHONE_FXO_Figure_16.JPG" alt="TAPI_PHONE_FXO_Figure_16.JPG"/>
</div>
 The virtual DAA different form real DAA acts as relay between PSTN and FXS. The function of getFXSEvent can get the five statuses. <br/>
 They are off-hook, on hook, DTMF, RingOn and RingOff.  <br> <p align="center"> <b>17. Virtual DAA</b>    <div class="image">
<img src="TAPI_PHONE_FXO_Figure_17.JPG" alt="TAPI_PHONE_FXO_Figure_17.JPG"/>
</div>
 </div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaaf5c5c25a5e88f11f8329065f462254b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32 rtk_SetFxoRingDetection </td>
          <td>(</td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>ring_on_msec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>first_ringoff_msec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>ring_off_msec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the Ring Detection Parameters to FXO. </p>
<p>This api is used to define FXO ring cadence for FXO ring detection. <br/>
 Low layer state machine reports VEID_HOOK_FXO_RING_ON and VEID_HOOK_FXO_RING_OFF when low layer detects the ring cadence matched the setting.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ring_on_msec</td><td>The time period of the ring On. </td></tr>
    <tr><td class="paramname">first_ringoff_msec</td><td>The time period of the first ring Off. </td></tr>
    <tr><td class="paramname">ring_off_msec</td><td>The time period of the ring Off. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="fxo_8c-example.html#a98">fxo.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga0b5e3f86fb5ac46bcc4f2fbdd3b661b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtk_DaaRing </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>chid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check Ringing via PSTN line. </p>
<p>Check is DAA(FXO) ringing or not.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chid</td><td>The specified FXS channel for FXO </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>PSTN Ringing </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaa616e41e470a40864d0458cac99dc854"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32 rtk_SetDaaTxGain </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>gain</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the Tx Gain of FXO. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gain</td><td>The gain value (0..11) (0 ~ -11 dB) Available range: 0 ~ -11 <br/>
 Unit: dB <br/>
 Step: 1dB <br/>
 <pre>
      gain  gain-down
       0       0 dB
       1      -1 dB
       2      -2 dB
       3      -3 dB
       4      -4 dB
       5      -5 dB
       6      -6 dB
       7      -7 dB
       8      -8 dB
       9      -9 dB
      10     -10 dB
      11     -11 dB
</pre> </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Virtual DAA not support </dd></dl>

</div>
</div>
<a class="anchor" id="ga1d2749e7a33ed11a451b19d5b851cd17"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32 rtk_SetDaaRxGain </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>gain</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the Rx Gain of FXO. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gain</td><td>The gain value (0..11) (0 ~ -11 dB) Available range: 0 ~ -11 <br/>
 Unit: dB <br/>
 Step: 1dB <br/>
 <pre>
      gain  gain-down
       0       0 dB
       1      -1 dB
       2      -2 dB
       3      -3 dB
       4      -4 dB
       5      -5 dB
       6      -6 dB
       7      -7 dB
       8      -8 dB
       9      -9 dB
      10     -10 dB
      11     -11 dB
</pre> </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Virtual DAA not support </dd></dl>

</div>
</div>
<a class="anchor" id="gac9cc5de7469f4131e495f441fd7ff94e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32 rtk_GetDaaCallerID </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>chid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str_cid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str_date</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the FXO Detected Caller ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chid</td><td>The FXO channel number </td></tr>
    <tr><td class="paramname">str_cid</td><td>The Caller ID String </td></tr>
    <tr><td class="paramname">str_date</td><td>The Date String </td></tr>
    <tr><td class="paramname">str_name</td><td>The Caller ID Name (If str_date is a null string, ignore this parameter.) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>How to get FXO Caller ID: <br/>
<ol type="1">
<li>When application get FXO Ring event, then it's safe to get Caller ID.<br/>
</li>
<li>If Caller ID is set to send between 1st ring and 2nd ring, then DSP report FXO Ring event till 2nd ring, to let application safe to get Caller ID. <br/>
</li>
<li>If no Caller ID is detected, then str_cid[0] = str_date[0] = 0.<br/>
 Virtual DAA not support. </li>
</ol>
</dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="fxo_8c-example.html#a87">fxo.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="gac88cb291a8c3c7c7e03b315e78402af7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32 rtk_DialPstnCallForward </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>chid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>sid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cf_no_str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dial PSTN Number for PSTN Call Forward. </p>
<p>This api dials phone number to PSTN(Central Office) via DAA(FXO).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chid</td><td>The FXO channel number </td></tr>
    <tr><td class="paramname">sid</td><td>The seesion number. Usually 0 for master session, 1 for slave(conference) session. </td></tr>
    <tr><td class="paramname">*cf_no_str</td><td>The Pointer of the PSTN Number String </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Virtual DAA not support </dd></dl>

</div>
</div>
<a class="anchor" id="ga3605deb589c89815366e16fbfb35f2d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32 rtk_SetDaaHybrid </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>chid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the DAA Hybrid (Only for Silicon Lab Si3050 DAA) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chid</td><td>The DAA channel number </td></tr>
    <tr><td class="paramname">index</td><td>The DAA Hybrid index. For the detail parameters for each index, developer need the check the hybrid constants of DAA driver. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Virtual DAA not support </dd></dl>

</div>
</div>
<a class="anchor" id="gaf6d0bd1478cc4e1705667cd6d3e34ba4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32 rtk_SetFxoTune </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>chid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>control</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To tune the impedance for FXO port to match to the central office (Only for Silicon Lab Si3050 DAA) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chid</td><td>The DAA channel number </td></tr>
    <tr><td class="paramname">control</td><td>The FXO tune control parameter<br/>
 0x0: Stop FXO tune Timer<br/>
 0x1: Start FXO tune timer<br/>
 0x2: Init FXO tune<br/>
 0x3: Enable FXO tune<br/>
 0x4: Disable FXO tune<br/>
  0x10000|(16-bit val): Set FXO tune busy timeout (msec), DSP default is 10000 msec. EX: 0x203E8 means for 1000 msec<br><br>
  <i><span style="padding-left:30px"> "busy timeout" means that duration between test DMTF dial and busy tone from CO. </span><br>
  <span style="padding-left:30px">When DAA off-hook, DSP will generate a DTMF tone to CO, and CO stop dial tone for a duration and then play busy tone.</span><br>
  <span style="padding-left:30px">This duration is the "busy timeout" need to set to DSP. DSP will test in this duration.</span><br><br></i> 0x20000|(16-bit val): Set FXO tune test tone duration (msec), DSP default is 1000 msec.<br/>
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The call flow for FXO tune:  <i> <br> <br>
  1. Start FXO tune timer.<br>
  2. Init FXO tune.<br>
  3. Set the "busy timeout" and "test tone" duration if it is required.<br>
  4. Enable FXO tune. <br>
  5. Check the FXO tune status (see below).<br>
  6. If FXO tune is done, there is no need to stop the FXO tune. DSP will stop and set the impedance of best ERL automaitcally.  If FXO tune is not done, you can stop the FXO tune to terminate FXO tune process.
  </i>  </dd>
<dd>
Developer can "cat /proc/voip/ch2/fxo_tune" to check the FXO tune status  <font color=blue><i> <br> <br>
# cat /proc/voip/ch2/fxo_tune<br>
  *FXO tune status, ch=2<br>
   - tuning state: 0<br>
   - busy timeout setting: 10000 msec<br>
   - current tuning index: 72<br>
   - test tone duration: 1000 msec<br>
   - current test tone power: 8301562<br>
   - <font color=red>test done: Yes</font> <br>
   - <font color=red>best ERL 33 dB </font>(index = 17)<br>
  *Note: echo 0xff into fox_tune to dump ERL value of each tuning index<br><br>
  </font></i>  "test done: Yes" means that FXO tuning is done.<br/>
 "best ERL 33 dB" show the best echo return loss in dB.<br/>
 </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="proslic_set_8c-example.html#a1">proslic_set.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga47b86ca1c915b071ae6cec21ed08c037"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32 rtk_GetFxoLineVoltage </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>chid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32 *&#160;</td>
          <td class="paramname"><em>pval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get FXO Line Voltage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chid</td><td>The channel number. </td></tr>
    <tr><td class="paramname">*pval</td><td>FXO Line Voltage </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gafe97a023b7da8016c08c3c79588a766e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtk_FxoOffHook </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>chid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Let DAA off-hook. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chid</td><td>The FXO channel number. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>Success </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This API is only used for real DAA </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="fxo_8c-example.html#a90">fxo.c</a>, and <a class="el" href="pulse_dial_8c-example.html#a0">pulse_dial.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga76f108dba36634e43d7b7ca2e9c87617"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtk_FxoOnHook </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>chid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Let FXO on-hook. </p>
<p>FXO line will be on-hook and set to OHT state. <br/>
 OHT: ON Hook Transmission. It is ready for caller id transmission.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chid</td><td>The FXO channel number. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Virtual DAA not support </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="fxo_8c-example.html#a81">fxo.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga2f2ae2a3c8a56f50dda2b097b8a000d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtk_FxoRingOn </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>chid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Let FXO Ringing. </p>
<p>This api force kernel to report VEID_HOOK_FXO_RING_ON to user application. <br/>
 It is defined for a special case that needs low layer's event to trigger upper layer's state machine. <br/>
 This api is unnecessary for normal cases.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chid</td><td>The FXO channel number. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Virtual DAA not support </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="fxo_8c-example.html#a5">fxo.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga1a6420fcb2d839e4ea24960d1838c1f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtk_FxoBusy </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>chid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FXO Busy. </p>
<p>This api force kernel to report VEID_HOOK_FXO_BUSY_TONE to user application. <br/>
 It is defined for a special case that needs low layer's event to trigger upper layer's state machine. <br/>
 This api is unnecessary for normal cases.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chid</td><td>The FXO channel number. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Virtual DAA not support </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="fxo_8c-example.html#a82">fxo.c</a>.</dd>
</dl>
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jun 3 2014 11:37:44 for VoIP Interface by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
